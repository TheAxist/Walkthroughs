
<!DOCTYPE html>

<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Closest &mdash; 100% Free Fully Responsive HTML5 Template by FREEHTML5.co</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Template by FREEHTML5.CO" />
	<meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
	<meta name="author" content="FREEHTML5.CO" />

 
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="shortcut icon" href="favicon.ico">

	<link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,300,700|Roboto:300,400' rel='stylesheet' type='text/css'>
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">

	<link rel="stylesheet" href="css/style.css">


	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->

	</head>
	<body>
	<div class="box-wrap">
		<header role="banner" id="fh5co-header">
			<div class="container">
				<nav class="navbar navbar-default">
					<div class="row">
						<div class="col-md-3">
							<div class="fh5co-navbar-brand">
								<a class="fh5co-logo" href="index.html"><img src="images/brand-nav.png" alt="Closest Logo"></a>
							</div>
						</div>
						<div class="col-md-6">
							<ul class="nav text-center">
								<li><a href="index.html"><span>Main Page</span></a></li>
								<li class="active"><a href="inside.html">PHP</a></li>
								<li><a href="services.html">Python</a></li>
								<li><a href="contact.html">SQLi</a></li>
							</ul>
						</div>
						<div class="col-md-3">
							<ul class="social">
								<li><a href="#"><i class="icon-twitter"></i></a></li>
								<li><a href="#"><i class="icon-dribbble"></i></a></li>
								<li><a href="#"><i class="icon-instagram"></i></a></li>
							</ul>
						</div>
					</div>
				</nav>
		  </div>
		</header>
		<!-- END: header -->
		

		<main id="main">
			<div class="container">
				<div class="col-md-8 col-md-offset-2 animate-box">
					<h2>PHP Directory Traversal example</h2>
					<b>Vulnerable Code Snippet </b>
					<p>Below we have a vulnerable PHP code snippet named “Original.php”.  The idea of this code snippet is to prompt the user ($ai = $argv[1]) to access a file that is in the designated directory ($bp).  </p>
					<img src="images/CSR_PHP/CSR_PHP_Original.png" alt="Code Snippet Review PHP" width="700" height="300"></a>
					<br></br>
					<p><b>#1: </b> We assume a user is looking for a file called "Foo".  The user is acting in a reasonable manner</p>
					<img src="images/CSR_PHP/CSR_PHP_Original1.png" alt="Code Snippet Review PHP" width="700" height="150"></a>
					<br></br>
					<p><b>#2: </b>We assume a user is looking for a file called "Bar" - this is reasonable as the user is simply looking for some other file within our "authorized" directory. </p>
					<img src="images/CSR_PHP/CSR_PHP_Original2.png" alt="Code Snippet Review PHP" width="690" height="120"></a>
					<br></br>
					
					<p><b>#3: </b>Now what happens if a user attempts to be malicious? They request a file but also add on a directory traversal attack looking for the contents of etc/passwd.</p>
					<img src="images/CSR_PHP/CSR_PHP_Original3.png" alt="Code Snippet Review PHP" width="720" height="110"></a>
					<br></br>
					
					<p><b>#4: </b>Thankfully in example 3, the attacker was not successful, despite having at least the correct amount of “../” to access the file “/etc/passwd”.   However if the attacker were to request the “etc/passwd” file by simply submitting a bunch of “../” initially such as below, they are successful in accessing a file not intended to be reached!</p>
					<img src="images/CSR_PHP/CSR_PHP_Original4.png" alt="Code Snippet Review PHP" width="710" height="120"></a>
					<br></br>
					
					<b>Fixed Code Snippet </b>
					<p>Now for the fix.  Below is a screenshot of the fixed php code snippet. “Solved.php”.  We will now run it through the same four scenarios as above. The fix involves the addition of basename() and realpath().  As described in the PHP documentation, basename() will return the trailing name component, however is not aware of path components such as “..”.  This is why realpath() is also necessary in conjunction with the “basename()” function.  As described in the PHP documentation “realpath()” returns canonicalized absolute pathname .  For additional reading on “basename()” click here and on “realpath()” click here . </p>
					<img src="images/CSR_PHP/CSR_PHP_Solved.png" alt="Code Snippet Review PHP" width="700" height="120"></a>
					<br></br>
					<p><b>#1: </b>Again, we assume the user is looking for a file named “Foo”.  The user is acting reasonable and the file is returned to the user.</p>
					<img src="images/CSR_PHP/CSR_PHP_Solved1.png" alt="Code Snippet Review PHP" width="700" height="120"></a>
					<br></br>					
					<p><b>#2: </b>Again, we assume a user is looking for a file called "Bar".  This is a reasonable action however the file does not exist within our "authorized" directory.</p>
					<img src="images/CSR_PHP/CSR_PHP_Solved2.png" alt="Code Snippet Review PHP" width="700" height="110"></a>
					<br></br>
					<p><b>#3: </b>Now it appears the attacker attempted to enter the valid file like before, however append a directory traversal attack in “/../../../../etc/passwd”.  Here the addition of “basename($ai) “realpath($p)” has submitted only the last part of the user supplied string of “passwd” to be passed through, resulting in a “file does not exist”. For further reading on the php function “realpath()” see <a href="url">here</a>.</p>
					<img src="images/CSR_PHP/CSR_PHP_Solved3.png"" alt="Code Snippet Review PHP" width="700" height="120"></a>
					<br></br>
					<p><b>#4: </b>Now the attacker tries the same attack they attempted before.  Unlike their previous success, the presence of “realpath()” protects against the attempted directory traversal attack.  Again, they are unsuccessful.</p>
					<img src="images/CSR_PHP/CSR_PHP_Solved4.png" alt="Code Snippet Review PHP" width="700" height="120"></a>
					<br></br>					
				</div>
				<!-- <div class="col-md-4"></div> -->
			</div>
		</main>

		<!-- END: 
		<section id="product">
			<div class="container">
				<div class="row animate-box">
					<div class="col-md-12 section-heading text-center">
						<h2>See More</h2>
						<div class="row">
							<div class="col-md-6 col-md-offset-3 subtext">
								<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove. </p>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="post-entry">
						<div class="col-md-6">
							<div class="post animate-box">
								<a href="#"><img src="images/work-2.jpg" alt="Product"></a>
								<div>
									<h3><a href="#">Camera Lenses</a></h3>
									<p>Far far away, behind the word, far from the countries Vokalia</p>
									<span><a href="#">Learn More...</a></span>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="post animate-box">
								<a href="#"><img src="images/work-1.jpg" alt="Product"></a>
								<div>
									<h3><a href="#">Camera Lenses</a></h3>
									<p>Far far away, behind the word, far from the countries Vokalia</p>
									<span><a href="#">Learn More...</a></span>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="post animate-box">
								<a href="#"><img src="images/work-2.jpg" alt="Product"></a>
								<div>
									<h3><a href="#">Camera Lenses</a></h3>
									<p>Far far away, behind the word, far from the countries Vokalia</p>
									<span><a href="#">Learn More...</a></span>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="post animate-box">
								<a href="#"><img src="images/work-1.jpg" alt="Product"></a>
								<div>
									<h3><a href="#">Camera Lenses</a></h3>
									<p>Far far away, behind the word, far from the countries Vokalia</p>
									<span><a href="#">Learn More...</a></span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		header -->

		<section id="services">
			<div class="container">
				<div class="row">
					<div class="col-md-4 animate-box">
						<div class="service">
							<div class="service-icon">
								<i class="icon-command"></i>
							</div>
							<h2>Brand Identity</h2>	
							<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
						</div>
					</div>
					<div class="col-md-4 animate-box">
						<div class="service">
							<div class="service-icon">
								<i class="icon-drop2"></i>
							</div>
							<h2>Web Design &amp; UI</h2>
							<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
						</div>
					</div>
					<div class="col-md-4 animate-box">
						<div class="service">
							<div class="service-icon">
								<i class="icon-anchor"></i>
							</div>
							<h2>Development &amp; CMS</h2>
							<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
						</div>
					</div>
				</div>
			</div>
		</section>

		

	

		<footer id="footer" role="contentinfo">
			<div class="container">
				<div class="row">
					<div class="col-md-12 text-center">
						<div class="footer-widget border">
							<p class="pull-left"><small>&copy; Closest Free HTML5. All Rights Reserved.</small></p>
							<p class="pull-right"><small> Designed by  <a href="http://freehtml5.co/" ta>freehtml5.co</a>  Images: <a href="https://unsplash.com/">Unsplash</a></small></p>
							
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>
	<!-- END: box-wrap -->
	
	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>

	<!-- Main JS (Do not remove) -->
	<script src="js/main.js"></script>

	</body>
</html>

